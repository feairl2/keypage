<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <title>ä»Šæ—¥å°ˆå±¬é‡‘é‘°</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <style>
        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
        }
        body{
            font-family:"Poppins",sans-serif;
            background:#0f0f0f;
            color:white;
            display:flex;
            justify-content:center;
            align-items:center;
            height:100vh;
            padding:20px;
        }
        .container{
            width:500px;
            background:#1a1a1a;
            padding:28px;
            border-radius:18px;
            box-shadow:0 0 20px rgba(0,0,0,0.5);
            text-align:center;
        }
        h1{
            font-size:28px;
            font-weight:600;
            margin-bottom:20px;
        }
        #key-field{
            font-size:22px;
            font-weight:600;
            margin-top:18px;
            padding:12px;
            border:2px dashed #7f5fff;
            border-radius:10px;
            background:rgba(255,255,255,0.07);
            display:inline-block;
            min-height:40px;
        }
        button{
            margin-top:25px;
            padding:12px 25px;
            font-size:18px;
            border:none;
            border-radius:10px;
            cursor:pointer;
            background:#7c4dff;
            color:white;
            transition:0.2s;
        }
        button:hover{
            background:#9b6bff;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ‰ ä»Šæ—¥å°ˆå±¬é‡‘é‘° ğŸ‰</h1>
    <p>ä»¥ä¸‹ç‚ºä½  Work.ink è§£é–å¾Œå–å¾—çš„å°ˆå±¬ Keyï¼š</p>

    <div id="key-field">è®€å–ä¸­...</div>

    <br><button onclick="copyKey()">ğŸ“‹ è¤‡è£½é‡‘é‘°</button>
</div>

<script>
    // ========= Firebase è¨­å®š =========
    const firebaseConfig = {
        apiKey: "AIzaSyCRdYTxHGhDQvQgnzwIwtpHkLFm4485X0",
        authDomain: "keysystem-2f263.firebaseapp.com",
        projectId: "keysystem-2f263",
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();


    // ========= å¾ Firestore è®€å–é‡‘é‘° =========
    async function loadFirebaseKey(){
        try{
            const doc = await db.collection("keys").doc("today").get();

            if(doc.exists){
                let key = doc.data().key;
                document.getElementById("key-field").innerText = key;
            }else{
                document.getElementById("key-field").innerText = "ï¼ˆä»Šæ—¥å°šæœªç”¢ç”Ÿé‡‘é‘°ï¼‰";
            }
        }catch(err){
            document.getElementById("key-field").innerText = "è®€å–éŒ¯èª¤";
            console.error(err);
        }
    }

    loadFirebaseKey();


    // ========= è¤‡è£½é‡‘é‘° =========
    function copyKey(){
        const key = document.getElementById("key-field").innerText;
        navigator.clipboard.writeText(key);
        alert("å·²è¤‡è£½é‡‘é‘°ï¼");
    }
</script>

</body>
</html>
